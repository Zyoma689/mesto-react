{"version":3,"sources":["images/header_logo.svg","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/ImagePopup.js","components/ConfirmPopup.js","utils/api.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","className","src","logo","alt","CurrentUserContext","React","createContext","Card","props","currentUser","useContext","isOwn","card","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","i","cardLikeButtonClassName","onClick","onCardDelete","type","aria-label","onCardClick","link","name","onCardLike","length","Main","onEditAvatar","avatar","about","onEditProfile","onAddPlace","cards","map","Footer","PopupWithForm","isOpen","onClose","title","noValidate","onSubmit","children","buttonText","EditProfilePopup","useState","setName","description","setDescription","useEffect","isLoading","evt","preventDefault","onUpdateUser","id","placeholder","minLength","maxLength","required","value","onChange","target","EditAvatarPopup","avatarRef","useRef","current","onUpdateAvatar","ref","AddPlacePopup","place","setPlace","setLink","ImagePopup","ConfirmPopup","onConfirm","api","options","this","baseUrl","headers","fetch","then","res","_getResponse","method","body","JSON","stringify","cardId","data","ok","json","Promise","reject","status","authorization","App","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isConfirmPopupOpen","setIsConfirmPopupOpen","selectedCard","setSelectedCard","setCurrentUser","setCards","setIsLoading","removedCard","setRemovedCard","closeAllPopups","handleEscClose","key","handleOverlayClose","classList","contains","all","getUserData","getInitialCards","values","userData","initialCards","catch","err","console","log","document","addEventListener","removeEventListener","Provider","changeLikeCardStatus","newCard","newCards","c","editUserData","changeUserAvatar","postNewCard","deleteCard","filter","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.f52213b8.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/header_logo.8724261e.svg\";","import React from 'react';\r\nimport logo from '../images/header_logo.svg';\r\n\r\nexport default function Header() {\r\n    return (\r\n        <header className=\"header page__header\">\r\n            <img className=\"header__logo\" src={logo} alt=\"Лого Mesto\" />\r\n        </header>\r\n    );\r\n}","import React from \"react\"\r\nexport const CurrentUserContext = React.createContext();","import React from 'react';\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext.js\";\r\n\r\nexport default function Card(props) {\r\n    const currentUser = React.useContext(CurrentUserContext);\r\n    const isOwn = props.card.owner._id === currentUser._id;\r\n    const cardDeleteButtonClassName = (\r\n        `card__delete-button ${isOwn ? '' : 'card__delete-button_disabled'}`\r\n    );\r\n    const isLiked = props.card.likes.some(i => i._id === currentUser._id);\r\n    const cardLikeButtonClassName = (\r\n        `card__like-button ${isLiked ? 'card__like-button_active' : ''}`\r\n    );\r\n\r\n    function handleCardClick() {\r\n        props.onCardClick(props.card);\r\n    }\r\n    \r\n    function handleLikeClick () {\r\n        props.onCardLike(props.card);\r\n    }\r\n\r\n    function handleDeleteClick() {\r\n        props.onCardDelete(props.card);\r\n    }\r\n\r\n    return (\r\n        <li\r\n            className=\"card\">\r\n            <button\r\n                className={cardDeleteButtonClassName}\r\n                onClick={handleDeleteClick}\r\n            />\r\n            <button\r\n                className=\"card__open-photo-button\"\r\n                type=\"button\"\r\n                aria-label=\"Открыть\"\r\n                onClick={handleCardClick}>\r\n                <img\r\n                    className=\"card__photo\"\r\n                    src={props.link}\r\n                    alt={props.name}\r\n                />\r\n            </button>\r\n            <div\r\n                className=\"card__description\">\r\n                <h2\r\n                    className=\"card__title\">{props.name}\r\n                </h2>\r\n                <div\r\n                    className=\"card__like-container\">\r\n                    <button\r\n                        className={cardLikeButtonClassName}\r\n                        type=\"button\"\r\n                        aria-label=\"Нравится\"\r\n                        onClick={handleLikeClick}\r\n                    />\r\n                    <p\r\n                        className=\"card__like-counter\">{props.likes.length}\r\n                    </p>\r\n                </div>\r\n            </div>\r\n        </li>\r\n    );\r\n}","import React from \"react\";\r\nimport Card from \"./Card.js\";\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext.js\";\r\n\r\n\r\nexport default function Main(props) {\r\n    const currentUser = React.useContext(CurrentUserContext);\r\n\r\n    return (\r\n        <main className=\"content page__content\">\r\n            <section className=\"profile content__profile\">\r\n                <button\r\n                    className=\"profile__avatar-button\"\r\n                    type=\"button\"\r\n                    onClick={props.onEditAvatar}>\r\n                    <img className=\"profile__avatar\" src={currentUser.avatar} alt=\"аватар\" />\r\n                </button>\r\n                <div className=\"profile__info\">\r\n                    <h1 className=\"profile__name\">{currentUser.name}</h1>\r\n                    <p className=\"profile__about\">{currentUser.about}</p>\r\n                    <button\r\n                        className=\"profile__edit-button\"\r\n                        type=\"button\"\r\n                        aria-label=\"Редактировать\"\r\n                        onClick={props.onEditProfile}\r\n                    />\r\n                </div>\r\n                <button\r\n                    className=\"profile__add-button\"\r\n                    type=\"button\"\r\n                    aria-label=\"Добавить\"\r\n                    onClick={props.onAddPlace}\r\n                />\r\n            </section>\r\n\r\n            <section className=\"cards content__cards\">\r\n                <ul className=\"cards__list\">\r\n                    {\r\n                        props.cards.map((card) => (\r\n                            <Card\r\n                                key={card._id}\r\n                                card={card}\r\n                                name={card.name}\r\n                                link={card.link}\r\n                                likes={card.likes}\r\n                                onCardClick={props.onCardClick}\r\n                                onCardLike={props.onCardLike}\r\n                                onCardDelete={props.onCardDelete}\r\n                            />\r\n                            )\r\n                        )\r\n                    }\r\n\r\n                </ul>\r\n            </section>\r\n        </main>\r\n    );\r\n}","import React from 'react';\r\n\r\nexport default function Footer() {\r\n    return (\r\n        <footer className=\"footer page__footer\">\r\n            <p className=\"footer__copyright\">&copy; 2021 Mesto Russia</p>\r\n        </footer>\r\n    );\r\n}","import React from 'react';\r\n\r\nexport default function PopupWithForm(props) {\r\n    return (\r\n        <div\r\n            className={`popup page__popup popup_type_${props.name} ${props.isOpen && \"popup_opened\"}`}>\r\n            <div\r\n                className=\"popup__container\">\r\n                <button\r\n                    className=\"popup__close-button\"\r\n                    type=\"button\"\r\n                    aria-label=\"Закрыть\"\r\n                    onClick={props.onClose}\r\n                />\r\n                <h2 className=\"popup__title\">{props.title}</h2>\r\n                <form\r\n                    className=\"popup__form\"\r\n                    name={props.name}\r\n                    noValidate\r\n                    onSubmit={props.onSubmit}>\r\n                    {props.children}\r\n                    <button\r\n                        className=\"popup__save-button\"\r\n                        type=\"submit\">{props.buttonText}\r\n                    </button>\r\n                </form>\r\n\r\n            </div>\r\n        </div>\r\n    );\r\n}","import React from 'react';\r\nimport PopupWithForm from \"./PopupWithForm.js\";\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext.js\"\r\n\r\nexport default function EditProfilePopup(props) {\r\n    const currentUser = React.useContext(CurrentUserContext);\r\n    const [ name, setName ] = React.useState('');\r\n    const [ description, setDescription ] = React.useState('');\r\n\r\n\r\n    React.useEffect(() => {\r\n        if (currentUser.name || currentUser.description) {\r\n            setName(currentUser.name);\r\n            setDescription(currentUser.about);\r\n        }\r\n    }, [currentUser]);\r\n\r\n    function handleChangeName(evt) {\r\n        setName(evt.target.value);\r\n    }\r\n\r\n    function handleChangeDescription(evt) {\r\n        setDescription(evt.target.value);\r\n    }\r\n\r\n    function handleSubmit(evt) {\r\n        evt.preventDefault();\r\n        props.onUpdateUser({\r\n            name,\r\n            about: description,\r\n        });\r\n    }\r\n\r\n    return (\r\n        <PopupWithForm\r\n            name=\"edit-profile\"\r\n            title=\"Редактировать профиль\"\r\n            buttonText={props.isLoading ? \"Сохранение...\" : \"Сохранить\"}\r\n            isOpen={props.isOpen}\r\n            onClose={props.onClose}\r\n            onSubmit={handleSubmit}\r\n            children={\r\n                <>\r\n                    <input\r\n                        className=\"popup__input popup__input_type_name\"\r\n                        id=\"name-input\"\r\n                        type=\"text\"\r\n                        name=\"nameInput\"\r\n                        placeholder=\"Имя\"\r\n                        minLength=\"2\"\r\n                        maxLength=\"40\"\r\n                        required\r\n                        value={name}\r\n                        onChange={handleChangeName}\r\n                    />\r\n                    <span\r\n                        className=\"popup__input-error\"\r\n                        id=\"name-input-error\"\r\n                    />\r\n                    <input\r\n                        className=\"popup__input popup__input_type_about\"\r\n                        id=\"about-input\"\r\n                        type=\"text\"\r\n                        name=\"aboutInput\"\r\n                        placeholder=\"О себе\"\r\n                        minLength=\"2\"\r\n                        maxLength=\"200\"\r\n                        required\r\n                        value={description}\r\n                        onChange={handleChangeDescription}\r\n                    />\r\n                    <span\r\n                        className=\"popup__input-error\"\r\n                        id=\"about-input-error\"\r\n                    />\r\n                </>\r\n            }\r\n        />\r\n    )\r\n}","import React from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm.js\";\r\n\r\nexport default function EditAvatarPopup(props) {\r\n    const avatarRef = React.useRef('');\r\n\r\n    function handleSubmit(evt) {\r\n        evt.preventDefault();\r\n         props.onUpdateAvatar({avatar: avatarRef.current.value});\r\n    }\r\n\r\n    React.useEffect(() => {\r\n        if (!props.isOpen) {\r\n            avatarRef.current.value = '';\r\n\r\n        }\r\n    }, [props.isOpen]);\r\n\r\n    return (\r\n        <PopupWithForm\r\n            name=\"change-avatar\"\r\n            title=\"Обновить аватар\"\r\n            buttonText={props.isLoading ? \"Сохранение...\" : \"Сохранить\"}\r\n            isOpen={props.isOpen}\r\n            onClose={props.onClose}\r\n            onSubmit={handleSubmit}\r\n            children={\r\n                <>\r\n                    <input\r\n                        className=\"popup__input popup__input_type_link\"\r\n                        id=\"avatar-link-input\"\r\n                        type=\"url\"\r\n                        name=\"avatarLinkInput\"\r\n                        placeholder=\"Ссылка на картинку\"\r\n                        required\r\n                        ref={avatarRef}\r\n                    />\r\n                    <span\r\n                        className=\"popup__input-error\"\r\n                        id=\"avatar-link-input-error\"\r\n                    />\r\n                </>\r\n            }\r\n        />\r\n    )\r\n}","import React from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\n\r\nexport default function AddPlacePopup(props) {\r\n    const [ place, setPlace ] = React.useState('');\r\n    const [ link, setLink ] = React.useState('');\r\n\r\n    React.useEffect(() => {\r\n        if (!props.isOpen) {\r\n            setPlace('');\r\n            setLink('');\r\n        }\r\n    }, [props.isOpen]);\r\n\r\n    function handleChangePlace(evt) {\r\n        setPlace(evt.target.value);\r\n    }\r\n\r\n    function handleChangeLink(evt) {\r\n        setLink(evt.target.value);\r\n    }\r\n\r\n    function handleSubmit(evt) {\r\n        evt.preventDefault();\r\n        props.onAddPlace({ name: place, link })\r\n    }\r\n\r\n    return (\r\n        <PopupWithForm\r\n            name=\"add-card\"\r\n            title=\"Новое место\"\r\n            buttonText={props.isLoading ? \"Создание...\" : \"Создать\"}\r\n            isOpen={props.isOpen}\r\n            onClose={props.onClose}\r\n            onSubmit={handleSubmit}\r\n            children={\r\n                <>\r\n                    <input\r\n                        className=\"popup__input popup__input_type_place\"\r\n                        id=\"place-input\"\r\n                        type=\"text\"\r\n                        name=\"placeInput\"\r\n                        placeholder=\"Название\"\r\n                        minLength=\"2\"\r\n                        maxLength=\"30\"\r\n                        required\r\n                        onChange={handleChangePlace}\r\n                        value={place}\r\n                    />\r\n                    <span\r\n                        className=\"popup__input-error\"\r\n                        id=\"place-input-error\"\r\n                    />\r\n                    <input\r\n                        className=\"popup__input popup__input_type_link\"\r\n                        id=\"link-input\"\r\n                        type=\"url\"\r\n                        name=\"linkInput\"\r\n                        placeholder=\"Ссылка на картинку\"\r\n                        required\r\n                        onChange={handleChangeLink}\r\n                        value={link}\r\n                    />\r\n                    <span\r\n                        className=\"popup__input-error\"\r\n                        id=\"link-input-error\"\r\n                    />\r\n                </>\r\n            }\r\n        />\r\n    )\r\n}","import React from 'react';\r\n\r\nexport default function ImagePopup(props) {\r\n    return (\r\n        <div\r\n            className={`popup page__popup popup_type_view-image ${props.card.link && \"popup_opened\"}`}>\r\n            <figure\r\n                className=\"popup__image-container\">\r\n                <button\r\n                    className=\"popup__close-button popup__close-button_type_view-image\"\r\n                    type=\"button\"\r\n                    aria-label=\"Закрыть\"\r\n                    onClick={props.onClose}\r\n                />\r\n                <img\r\n                    className=\"popup__image\"\r\n                    src={props.card.link}\r\n                    alt={props.card.name}\r\n                />\r\n                <figcaption\r\n                    className=\"popup__image-title\">{props.card.name} </figcaption>\r\n            </figure>\r\n        </div>\r\n    );\r\n}","import React from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm.js\";\r\n\r\nexport default function ConfirmPopup(props) {\r\n    function handleSubmit(evt) {\r\n        evt.preventDefault();\r\n        props.onConfirm(props.card);\r\n    }\r\n\r\n    return (\r\n        <PopupWithForm\r\n            name=\"confirm\"\r\n            title=\"Вы уверены?\"\r\n            buttonText={props.isLoading ? \"Удаление...\" : \"Да\"}\r\n            isOpen={props.isOpen}\r\n            onClose={props.onClose}\r\n            onSubmit={handleSubmit}\r\n        />\r\n    )\r\n}","class Api {\r\n    constructor(options) {\r\n        this.baseUrl = options.baseUrl;\r\n        this.headers = options.headers;\r\n    }\r\n\r\n    getUserData() {\r\n        return fetch(`${this.baseUrl}/users/me`, {\r\n            headers: this.headers\r\n        })\r\n            .then(res => this._getResponse(res))\r\n    }\r\n\r\n    getInitialCards() {\r\n        return fetch (`${this.baseUrl}/cards`, {\r\n            headers: this.headers\r\n        })\r\n            .then(res => this._getResponse(res))\r\n    }\r\n\r\n    editUserData({ name, about }) {\r\n        return fetch(`${this.baseUrl}/users/me`, {\r\n            method: 'PATCH',\r\n            headers: this.headers,\r\n            body: JSON.stringify({\r\n                name: name,\r\n                about: about\r\n            })\r\n        })\r\n            .then(res => this._getResponse(res))\r\n    }\r\n\r\n    postNewCard({ name, link }) {\r\n        return fetch(`${this.baseUrl}/cards `, {\r\n            method: 'POST',\r\n            headers: this.headers,\r\n            body: JSON.stringify({\r\n                name: name,\r\n                link: link\r\n            })\r\n        })\r\n            .then(res => this._getResponse(res))\r\n    }\r\n\r\n    deleteCard(cardId) {\r\n        return fetch(`${this.baseUrl}/cards/${cardId}`, {\r\n            method: 'DELETE',\r\n            headers: this.headers,\r\n        })\r\n            .then(res => this._getResponse(res))\r\n    }\r\n\r\n    changeUserAvatar(data) {\r\n        return fetch(`${this.baseUrl}/users/me/avatar`, {\r\n            method: 'PATCH',\r\n            headers: this.headers,\r\n            body: JSON.stringify({\r\n                avatar: data.avatar\r\n            })\r\n        })\r\n            .then(res => this._getResponse(res))\r\n    }\r\n\r\n    _getResponse(res) {\r\n        if (res.ok) {\r\n            return(res.json());\r\n        }\r\n\r\n        return Promise.reject(`Ошибка: ${res.status}`);\r\n    }\r\n\r\n    changeLikeCardStatus(cardId, isLiked) {\r\n        if (!isLiked) {\r\n            return fetch(`${this.baseUrl}/cards/likes/${cardId} `, {\r\n                method: 'PUT',\r\n                headers: this.headers\r\n            })\r\n                .then(res => this._getResponse(res));\r\n        } else {\r\n            return fetch(`${this.baseUrl}/cards/likes/${cardId}`, {\r\n                method: 'DELETE',\r\n                headers: this.headers\r\n            })\r\n                .then(res => this._getResponse(res));\r\n        }\r\n    }\r\n}\r\n\r\nconst api = new Api({\r\n    baseUrl: 'https://mesto.nomoreparties.co/v1/cohort-19',\r\n    headers: {\r\n        authorization: 'ee997593-23fa-4bcc-b338-c6e6a2cbbaea',\r\n        'Content-Type': 'application/json'\r\n    }\r\n});\r\n\r\nexport default api","import React from 'react';\r\nimport Header from \"./Header.js\";\r\nimport Main from \"./Main.js\";\r\nimport Footer from \"./Footer.js\";\r\nimport EditProfilePopup from \"./EditProfilePopup.js\";\r\nimport EditAvatarPopup from \"./EditAvatarPopup.js\";\r\nimport AddPlacePopup from \"./AddPlacePopup.js\";\r\nimport ImagePopup from \"./ImagePopup.js\";\r\nimport ConfirmPopup from \"./ConfirmPopup.js\";\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext.js\";\r\nimport api from \"../utils/api.js\";\r\n\r\nfunction App() {\r\n    const [ isEditProfilePopupOpen, setIsEditProfilePopupOpen ] = React.useState(false);\r\n    const [ isAddPlacePopupOpen, setIsAddPlacePopupOpen ] = React.useState(false);\r\n    const [ isEditAvatarPopupOpen, setIsEditAvatarPopupOpen ] = React.useState(false);\r\n    const [ isConfirmPopupOpen, setIsConfirmPopupOpen ] = React.useState(false);\r\n    const [ selectedCard, setSelectedCard ] = React.useState({});\r\n    const [ currentUser, setCurrentUser] = React.useState({});\r\n    const [ cards, setCards ] = React.useState([]);\r\n    const [ isLoading, setIsLoading ] = React.useState(false);\r\n    const [ removedCard, setRemovedCard ] = React.useState({});\r\n\r\n    React.useEffect(() => {\r\n        Promise.all([api.getUserData(), api.getInitialCards()])\r\n            .then((values) => {\r\n                const [userData, initialCards] = values;\r\n                setCurrentUser(userData);\r\n                setCards(initialCards);\r\n            })\r\n            .catch((err) => {\r\n                console.log(err)\r\n            });\r\n    }, []);\r\n\r\n\r\n    function handleCardLike(card) {\r\n        const isLiked = card.likes.some(i => i._id === currentUser._id);\r\n        api.changeLikeCardStatus(card._id, isLiked)\r\n            .then((newCard) => {\r\n                const newCards = cards.map((c) => c._id === card._id ? newCard : c);\r\n                setCards(newCards);\r\n            })\r\n            .catch((err) => {\r\n                console.log(err);\r\n            });\r\n    }\r\n\r\n    function handleCardDeleteClick(card) {\r\n        setIsConfirmPopupOpen(true);\r\n        setRemovedCard(card);\r\n    }\r\n\r\n    function handleCardDelete(card) {\r\n        setIsLoading(true);\r\n        api.deleteCard(card._id)\r\n            .then(() => {\r\n                const newCards = cards.filter((c) => c._id !== card._id);\r\n                setCards(newCards);\r\n                closeAllPopups();\r\n                setIsLoading(false);\r\n            })\r\n            .catch((err) => {\r\n                console.log(err);\r\n            });\r\n    }\r\n\r\n    function handleEditAvatarClick() {\r\n        setIsEditAvatarPopupOpen(true);\r\n    }\r\n\r\n    function handleEditProfileClick() {\r\n        setIsEditProfilePopupOpen(true);\r\n    }\r\n\r\n    function handleAddPlaceClick() {\r\n        setIsAddPlacePopupOpen(true);\r\n    }\r\n    \r\n    function closeAllPopups() {\r\n        setIsEditProfilePopupOpen(false);\r\n        setIsAddPlacePopupOpen(false);\r\n        setIsEditAvatarPopupOpen(false);\r\n        setIsConfirmPopupOpen(false);\r\n        setSelectedCard({})\r\n    }\r\n\r\n    function handleEscClose(evt) {\r\n        if (evt.key === 'Escape') {\r\n            closeAllPopups();\r\n        }\r\n    }\r\n    \r\n    function handleOverlayClose(evt) {\r\n        if (evt.target.classList.contains('popup')) {\r\n            closeAllPopups();\r\n        }\r\n    }\r\n\r\n    function handleUpdateUser(currentUser) {\r\n        setIsLoading(true);\r\n        api.editUserData(currentUser)\r\n            .then((data) => {\r\n                setCurrentUser(data);\r\n                setIsLoading(false);\r\n                closeAllPopups();\r\n            })\r\n            .catch((err) => {\r\n                console.log(err);\r\n            });\r\n    }\r\n\r\n    function handleUpdateAvatar(data) {\r\n        setIsLoading(true);\r\n        api.changeUserAvatar(data)\r\n            .then((userData) => {\r\n                setCurrentUser(userData);\r\n                setIsLoading(false);\r\n                closeAllPopups();\r\n            })\r\n            .catch((err) => {\r\n                console.log(err);\r\n            });\r\n    }\r\n\r\n    function handleAddPlaceSubmit({ name, link }) {\r\n        setIsLoading(true);\r\n        api.postNewCard({ name, link })\r\n            .then((newCard) => {\r\n                setCards([newCard, ...cards]);\r\n                setIsLoading(false);\r\n                closeAllPopups();\r\n            })\r\n            .catch((err) => {\r\n                console.log(err);\r\n            });\r\n    }\r\n\r\n    React.useEffect(() => {\r\n        document.addEventListener('keydown', handleEscClose);\r\n        document.addEventListener('mouseup', handleOverlayClose);\r\n        return () => {\r\n            document.removeEventListener('keydown', handleEscClose);\r\n            document.removeEventListener('mouseup', handleOverlayClose);\r\n        }\r\n    });\r\n\r\n  return (\r\n      <CurrentUserContext.Provider value={currentUser}>\r\n          <div className=\"page\">\r\n              <div className=\"page__container\">\r\n                  <Header/>\r\n                  <Main\r\n                      onEditProfile={handleEditProfileClick}\r\n                      onAddPlace={handleAddPlaceClick}\r\n                      onEditAvatar={handleEditAvatarClick}\r\n                      onCardClick={setSelectedCard}\r\n                      cards={cards}\r\n                      onCardLike={handleCardLike}\r\n                      onCardDelete={handleCardDeleteClick}\r\n                  />\r\n                  <Footer/>\r\n\r\n                  <EditProfilePopup\r\n                      isOpen={isEditProfilePopupOpen}\r\n                      onClose={closeAllPopups}\r\n                      onUpdateUser={handleUpdateUser}\r\n                      isLoading={isLoading}\r\n                  />\r\n\r\n                  <EditAvatarPopup\r\n                      isOpen={isEditAvatarPopupOpen}\r\n                      onClose={closeAllPopups}\r\n                      onUpdateAvatar={handleUpdateAvatar}\r\n                      isLoading={isLoading}\r\n                  />\r\n\r\n                  <AddPlacePopup\r\n                      isOpen={isAddPlacePopupOpen}\r\n                      onClose={closeAllPopups}\r\n                      onAddPlace={handleAddPlaceSubmit}\r\n                      isLoading={isLoading}\r\n                  />\r\n\r\n                  <ConfirmPopup\r\n                      isOpen={isConfirmPopupOpen}\r\n                      onClose={closeAllPopups}\r\n                      onConfirm={handleCardDelete}\r\n                      card={removedCard}\r\n                      isLoading={isLoading}\r\n                  />\r\n\r\n                  <ImagePopup\r\n                      card={selectedCard}\r\n                      onClose={closeAllPopups}\r\n                  />\r\n              </div>\r\n          </div>\r\n      </CurrentUserContext.Provider>\r\n  );\r\n}\r\n\r\nexport default App;","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './components/App';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}